


# JWTeste - API de AutenticaÃ§Ã£o e AutorizaÃ§Ã£o ğŸ”
## ğŸ“¸ Exemplos de Telas

### Tela de Login
![Login](docs/images/login.jpg)

### Tela de Registro
![Registro](docs/images/register.jpg)

Uma API robusta de autenticaÃ§Ã£o e autorizaÃ§Ã£o desenvolvida com **Node.js**, **Express** e **TypeScript**, utilizando **JWT** para autenticaÃ§Ã£o, **bcrypt** para seguranÃ§a de senhas, **Prisma ORM** com **PostgreSQL** para persistÃªncia de dados e **Docker** para conteinerizaÃ§Ã£o. Inclui **controle de acesso baseado em papÃ©is (RBAC)**.

---

## ğŸ“‹ SumÃ¡rio

* [VisÃ£o Geral](#visÃ£o-geral)
* [Funcionalidades](#funcionalidades)
* [Tecnologias Utilizadas](#tecnologias-utilizadas)
* [PrÃ©-requisitos](#prÃ©-requisitos)
* [InstalaÃ§Ã£o e ExecuÃ§Ã£o](#instalaÃ§Ã£o-e-execuÃ§Ã£o)
* [Estrutura do Projeto](#estrutura-do-projeto)
* [Endpoints da API](#endpoints-da-api)
* [AutenticaÃ§Ã£o e AutorizaÃ§Ã£o](#autenticaÃ§Ã£o-e-autorizaÃ§Ã£o)
* [Como Contribuir](#como-contribuir)
* [LicenÃ§a](#licenÃ§a)
* [Contato](#contato)

---

## ğŸŒ VisÃ£o Geral

Este projeto backend foi desenvolvido para fornecer um **sistema de autenticaÃ§Ã£o e autorizaÃ§Ã£o seguro e escalÃ¡vel**.

### Principais caracterÃ­sticas:

* **JWT**: Gerenciamento stateless de sessÃµes de usuÃ¡rios.
* **bcrypt**: Hash seguro de senhas.
* **Prisma ORM + PostgreSQL**: PersistÃªncia de dados de forma tipada e eficiente.
* **RBAC (Role-Based Access Control)**: Controle granular de acesso por papÃ©is.
* **TypeScript**: Garantia de tipagem forte.
* **Docker**: Ambiente consistente e fÃ¡cil de implantar.

---

## âœ¨ Funcionalidades

* Registro de usuÃ¡rios.
* Login com geraÃ§Ã£o de JWT.
* Controle de acesso por papel (USER, ADMIN).
* Middlewares customizados:

  * ExtraÃ§Ã£o de token.
  * AutenticaÃ§Ã£o de token.
  * AutorizaÃ§Ã£o por papel.
* Logout simples (Stateless).
* PersistÃªncia com Prisma + PostgreSQL.
* ConteinerizaÃ§Ã£o via Docker.

---

## ğŸ› ï¸ Tecnologias Utilizadas

* Node.js
* Express.js
* TypeScript
* JWT (jsonwebtoken)
* bcrypt.js
* Prisma ORM
* PostgreSQL
* Docker
* ts-node-dev (hot-reloading)
* Insomnia / Postman (testes de API)

---

## âœ… PrÃ©-requisitos

* **Node.js**: v18.x, v20.x ou v24.x
* **npm**: v9.x ou superior
* **PostgreSQL**: Local ou via Docker
* **Docker Desktop**: Opcional, para conteinerizaÃ§Ã£o
* (Opcional) **Insomnia** ou **Postman** para testar requisiÃ§Ãµes

---

## ğŸš€ InstalaÃ§Ã£o e ExecuÃ§Ã£o

### 1. Clonar o RepositÃ³rio

```bash
git clone https://github.com/GabrielF0900/JWTTESTE.git
cd JWTTESTE/Backend
```

### 2. Instalar DependÃªncias

```bash
npm install
# ou
yarn install
```

### 3. Configurar Ambiente

Crie um arquivo `.env` na raiz do Backend:

```dotenv
DATABASE_URL="postgresql://USUARIO:SENHA@HOST:PORTA/NOMEDOBANCO?schema=public"
JWT_SECRET="sua_chave_secreta_muito_segura_e_longa_para_jwt_aqui"
PORT=3000
```

### 4. Configurar Banco de Dados

* Verifique o arquivo `prisma/schema.prisma`.
* Rode as migraÃ§Ãµes:

```bash
npx prisma migrate dev --name init_database
```

* Gere o cliente Prisma:

```bash
npx prisma generate
```

* (Opcional) Use o Prisma Studio:

```bash
npx prisma studio
```

### 5. Iniciar o Servidor

#### Em modo desenvolvimento:

```bash
npm run dev
```

#### Via Docker:

```bash
docker build -t jwtteste-backend .
docker run -p 3000:3000 jwtteste-backend
```

#### Via Docker Compose (se configurado):

```bash
docker-compose up --build
```

---

## ğŸ“‚ Estrutura do Projeto

```
JWTTESTE/
â”œâ”€â”€ Backend/
â”‚   â”œâ”€â”€ node_modules/
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â””â”€â”€ prismaClient/
â”‚   â”‚       â””â”€â”€ prismaClient.ts
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ minhaAPI/
â”‚   â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”‚   â”œâ”€â”€ registro/
â”‚   â”‚   â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ app.ts
â”‚   â”‚   â””â”€â”€ server.ts
â”‚   â”œâ”€â”€ .dockerignore
â”‚   â”œâ”€â”€ .env
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ .gitignore
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ package-lock.json
â”‚   â””â”€â”€ tsconfig.json
```

---

## ğŸ¯ Endpoints da API

**Base URL:** `http://localhost:3000/api`

### ğŸ›¡ï¸ AutenticaÃ§Ã£o

| MÃ©todo | Endpoint  | DescriÃ§Ã£o                          |
| ------ | --------- | ---------------------------------- |
| POST   | /login    | Login e geraÃ§Ã£o de JWT             |
| POST   | /register | Registro de novo usuÃ¡rio           |
| POST   | /logout   | Logout (client-side token discard) |

### ğŸ”’ Rotas Protegidas

| MÃ©todo | Endpoint                      | Requisitos de Acesso            |
| ------ | ----------------------------- | ------------------------------- |
| GET    | /rota-protegida               | Qualquer usuÃ¡rio autenticado    |
| GET    | /rota-protegida-admin-somente | Apenas usuÃ¡rios com role: ADMIN |

---

## ğŸ”’ AutenticaÃ§Ã£o e AutorizaÃ§Ã£o

**Fluxo de seguranÃ§a:**

1. **Login:** UsuÃ¡rio envia credenciais. Backend retorna JWT.
2. **ExtraÃ§Ã£o de Token:** Middleware captura o token no cabeÃ§alho.
3. **ValidaÃ§Ã£o de Token:** Middleware verifica e decodifica o JWT.
4. **Controle de Acesso:** Middleware `authorized` verifica o papel do usuÃ¡rio antes de liberar o acesso.

---

## ğŸ¤ Como Contribuir

1. FaÃ§a um fork.
2. Crie uma branch (`git checkout -b feature/nova-feature`).
3. FaÃ§a suas alteraÃ§Ãµes.
4. Commit com mensagens claras (`git commit -m 'feat: adiciona nova funcionalidade'`).
5. Push para seu fork (`git push origin feature/nova-feature`).
6. Abra um Pull Request.

---

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a **MIT License**.

---

## ğŸ“§ Contato

* **Nome:** Gabriel FalcÃ£o
* **E-mail:** [Gabrielcfonline0900@gmail.com](mailto:Gabrielcfonline0900@gmail.com)
* **GitHub:** [https://github.com/GabrielF0900](https://github.com/GabrielF0900)
* **LinkedIn:** [https://www.linkedin.com/in/gabrielfalcaodev/](https://www.linkedin.com/in/gabrielfalcaodev/)

---


